<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc (1.8.0_171) on Thu May 31 10:52:29 CEST 2018 -->
<title>HybridFileDecryptionStream</title>
<meta name="date" content="2018-05-31">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HybridFileDecryptionStream";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HybridFileDecryptionStream.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/intel/fightclub/encryption/decrypt/HybridFileDecryptionStream.html" target="_top">Frames</a></li>
<li><a href="HybridFileDecryptionStream.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.intel.fightclub.encryption.decrypt</div>
<h2 title="Class HybridFileDecryptionStream" class="title">Class HybridFileDecryptionStream</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.intel.fightclub.encryption.decrypt.HybridFileDecryptionStream</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@NotThreadSafe
public final class <span class="typeNameLabel">HybridFileDecryptionStream</span>
extends java.lang.Object</pre>
<div class="block">A class which opens an encrypted file stream and decrypts it.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/intel/fightclub/encryption/decrypt/HybridFileDecryptionStream.html#HybridFileDecryptionStream-java.lang.String-java.security.Key-">HybridFileDecryptionStream</a></span>(java.lang.String&nbsp;encryptedFilePath,
                          java.security.Key&nbsp;rsaPrivateKey)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/intel/fightclub/encryption/decrypt/HybridFileDecryptionStream.html#close--">close</a></span>()</code>
<div class="block">Closes the encrypted file.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/intel/fightclub/encryption/decrypt/HybridFileDecryptionStream.html#decryptBytes-byte:A-">decryptBytes</a></span>(byte[]&nbsp;bytes)</code>
<div class="block">Decrypts a portion of the data at the current position of the file.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/intel/fightclub/encryption/decrypt/HybridFileDecryptionStream.html#decryptBytes-byte:A-int-int-">decryptBytes</a></span>(byte[]&nbsp;bytes,
            int&nbsp;offset,
            int&nbsp;length)</code>
<div class="block">Decrypts a portion of the data at the current position of the file.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/intel/fightclub/encryption/decrypt/HybridFileDecryptionStream.html#decryptBytes-java.nio.ByteBuffer-">decryptBytes</a></span>(java.nio.ByteBuffer&nbsp;buffer)</code>
<div class="block">Decrypts a portion of the data at the current position of the file.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/intel/fightclub/encryption/decrypt/HybridFileDecryptionStream.html#decryptToFile-java.nio.channels.FileChannel-">decryptToFile</a></span>(java.nio.channels.FileChannel&nbsp;destinationChannel)</code>
<div class="block">Decrypts the file to the provided file channel.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/intel/fightclub/encryption/decrypt/HybridFileDecryptionStream.html#decryptToFile-java.lang.String-">decryptToFile</a></span>(java.lang.String&nbsp;destinationPath)</code>
<div class="block">Decrypts the file and writes out the decrypted contents to the specified file.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/intel/fightclub/encryption/decrypt/HybridFileDecryptionStream.html#prepare-byte:A...-">prepare</a></span>(byte[]...&nbsp;hashParameters)</code>
<div class="block">Prepares the file for decryption.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="HybridFileDecryptionStream-java.lang.String-java.security.Key-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HybridFileDecryptionStream</h4>
<pre>public&nbsp;HybridFileDecryptionStream(@NotNull
                                  java.lang.String&nbsp;encryptedFilePath,
                                  @NotNull
                                  java.security.Key&nbsp;rsaPrivateKey)
                           throws java.io.FileNotFoundException</pre>
<div class="block">Constructor. Opens the provided file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>encryptedFilePath</code> - The absolute path to the file to the encrypted file to be
                          decrypted.</dd>
<dd><code>rsaPrivateKey</code> - The RSA private key that will be used to decrypt the embedded
                      symmetric keys.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - Thrown if the file cannot be found or cannot be opened.</dd>
<dd><code>java.lang.NullPointerException</code> - Thrown if the provided RSA private key is null.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws java.io.IOException</pre>
<div class="block">Closes the encrypted file.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Thrown if a file I/O exception occurs while closing the file.</dd>
</dl>
</li>
</ul>
<a name="decryptBytes-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptBytes</h4>
<pre>public&nbsp;int&nbsp;decryptBytes(@NotNull
                        byte[]&nbsp;bytes)
                 throws java.io.IOException</pre>
<div class="block"><p>Decrypts a portion of the data at the current position of the file. The decrypted data
 is stored in the provided byte array. The position of the file will be updated to the last
 byte that was read plus one.</p>

 <p>Calling this method is the equivalent of calling <a href="../../../../../com/intel/fightclub/encryption/decrypt/HybridFileDecryptionStream.html#decryptBytes-byte:A-int-int-"><code>decryptBytes(byte[], int, int)</code></a>
 with the offset set to 0 and the length set to the size of this byte array.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytes</code> - The byte array to store the decrypted data in.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of bytes that were decrypted and stored in the byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - Thrown if <code>#prepare(byte[]...)</code> has not been called
 prior to calling this method.</dd>
<dd><code>java.io.IOException</code> - Thrown if a file I/O exception occurred while reading the file.</dd>
</dl>
</li>
</ul>
<a name="decryptBytes-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptBytes</h4>
<pre>public&nbsp;int&nbsp;decryptBytes(@NotNull
                        byte[]&nbsp;bytes,
                        int&nbsp;offset,
                        int&nbsp;length)
                 throws java.io.IOException</pre>
<div class="block"><p>Decrypts a portion of the data at the current position of the file. The decrypted data is
 stored in the provided byte array starting at the given offset and not exceeding the
 provided length. The position of the file will be updated to the last byte that was read
 plus one.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytes</code> - The byte array to store the decrypted data in.</dd>
<dd><code>offset</code> - The offset of the byte array to start storing decrypted data in.</dd>
<dd><code>length</code> - The number of bytes to store into the array.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of bytes that were decrypted and stored in the byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - Thrown if <code>#prepare(byte[]...)</code> has not been called
 prior to calling this method.</dd>
<dd><code>java.io.IOException</code> - Thrown if a file I/O error occurred while reading the file.</dd>
<dd><code>java.lang.NullPointerException</code> - Thrown if the provided buffer is null.</dd>
</dl>
</li>
</ul>
<a name="decryptBytes-java.nio.ByteBuffer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptBytes</h4>
<pre>public&nbsp;int&nbsp;decryptBytes(@NotNull
                        java.nio.ByteBuffer&nbsp;buffer)
                 throws java.io.IOException</pre>
<div class="block"><p>Decrypts a portion of the data at the current position of the file. This decrypted data is
 stored in the provided <code>ByteBuffer</code> object. The position of the file will be updated to
 the last byte that was read plus one.</p>

 <p>This method will flip the buffer object (set the limit to the position and then setting
 the position to 0) before returning.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buffer</code> - The buffer to store the decrypted bytes in.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of bytes that were decrypted and stored in the buffer.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - Thrown if <code>#prepare(byte[]...)</code> has not been called
 prior to calling this method.</dd>
<dd><code>java.io.IOException</code> - Thrown if a file I/O error occurred while reading the file.</dd>
<dd><code>java.lang.NullPointerException</code> - Thrown if the provided buffer is null.</dd>
</dl>
</li>
</ul>
<a name="decryptToFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptToFile</h4>
<pre>public&nbsp;void&nbsp;decryptToFile(@NotNull
                          java.lang.String&nbsp;destinationPath)
                   throws java.io.IOException</pre>
<div class="block">Decrypts the file and writes out the decrypted contents to the specified file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destinationPath</code> - The absolute path to the destination file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - Thrown if <code>#prepare(byte[]...)</code> has not been called prior
 to calling this method.</dd>
<dd><code>java.io.IOException</code> - Thrown if a file IO error occurred while writing to the output file or
 if the output file could not be created/opened.</dd>
</dl>
</li>
</ul>
<a name="decryptToFile-java.nio.channels.FileChannel-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decryptToFile</h4>
<pre>public&nbsp;void&nbsp;decryptToFile(@NotNull
                          java.nio.channels.FileChannel&nbsp;destinationChannel)
                   throws java.io.IOException</pre>
<div class="block">Decrypts the file to the provided file channel. This will not close the channel after
 execution is completed. It's up to the caller to close the channel.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destinationChannel</code> - The file channel to write to. This should be in RW mode.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Thrown if a file IO error occurred while writing the output file or if
 the destination channel is in read-only mode.</dd>
</dl>
</li>
</ul>
<a name="prepare-byte:A...-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>prepare</h4>
<pre>public&nbsp;void&nbsp;prepare(@Nullable
                    byte[]...&nbsp;hashParameters)
             throws <a href="../../../../../com/intel/fightclub/encryption/decrypt/exception/AuthenticationException.html" title="class in com.intel.fightclub.encryption.decrypt.exception">AuthenticationException</a>,
                    java.security.InvalidKeyException,
                    java.io.IOException,
                    <a href="../../../../../com/intel/fightclub/encryption/decrypt/exception/NotEncryptedException.html" title="class in com.intel.fightclub.encryption.decrypt.exception">NotEncryptedException</a></pre>
<div class="block">Prepares the file for decryption. This will create the cipher object by decrypting the
 AES secret key using the RSA private key. This will also authenticate the file by
 computing the key-hashed message authentication (HMAC) code using the embedded HMAC key
 and comparing it agains the embedded HMAC value.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/intel/fightclub/encryption/decrypt/exception/AuthenticationException.html" title="class in com.intel.fightclub.encryption.decrypt.exception">AuthenticationException</a></code> - Thrown if the computed HMAC value does not match the
 embedded HMAC value.</dd>
<dd><code>java.security.InvalidKeyException</code> - Thrown if the embedded AES symmetric key is invalid.</dd>
<dd><code>java.io.IOException</code> - Thrown if an IO error occurred while preprocessing the file.</dd>
<dd><code><a href="../../../../../com/intel/fightclub/encryption/decrypt/exception/NotEncryptedException.html" title="class in com.intel.fightclub.encryption.decrypt.exception">NotEncryptedException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HybridFileDecryptionStream.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/intel/fightclub/encryption/decrypt/HybridFileDecryptionStream.html" target="_top">Frames</a></li>
<li><a href="HybridFileDecryptionStream.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
